# Test generated by RoostGPT for test go-test using AI Type Open AI and AI Model gpt-4

config:
  target: "http://localhost:3000"
  phases:
    - duration: 60
      arrivalRate: 20

scenarios:
  - name: "Successful API request"
    flow:
      - post:
          url: "/api/v1/stories"
          json:
            title: "Test Story"
            body: "This is a test story"
          headers:
            Content-Type: "application/json"
          capture:
            json: "$.message"
            as: "message"
      - think: 1
      - log: "The response message is: {{ message }}"
      - assert:
          - statusCode: 200
          - bodyContains:
              - "Story created successfully"

  - name: "API request with validation failure"
    flow:
      - post:
          url: "/api/v1/stories"
          json: {}
          headers:
            Content-Type: "application/json"
          capture:
            json: "$.message"
            as: "message"
      - think: 1
      - log: "The response message is: {{ message }}"
      - assert:
          - statusCode: 400
          - bodyContains:
              - "Validation failed"

  - name: "API request with edge case"
    flow:
      - post:
          url: "/api/v1/stories"
          json:
            title: "Test Story with Special Characters: !@#$%^&*()"
            body: "This is a test story with a very large body. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce nec nulla vitae odio sodales cursus. Quisque scelerisque, neque id hendrerit auctor, diam arcu interdum dolor, eget porttitor quam mauris sed ligula."
          headers:
            Content-Type: "application/json"
          capture:
            json: "$.message"
            as: "message"
      - think: 1
      - log: "The response message is: {{ message }}"
      - assert:
          - statusCode: [200, 201]
          - bodyContains:
              - "Story created successfully"
